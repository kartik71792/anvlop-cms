<div class="inputGroup" [formGroup]="projectForm">
    <label for="assets">Assets</label>
    <div class="assets" [sortablejs]="assets">
        <div formArrayName="assets" 
        *ngFor="let asset of assets.controls">
            <div *ngIf="asset.value" [class.mainAsset]="asset.value.mainAsset">
                <div *ngFor="let file of asset.value.files">
                    <div *ngIf="file.type === 'image'">
                        <img src="{{file.src | fileUrl}}" alt="" width="100">
                    </div>
                    <div *ngIf="file.type === 'video'">
                        <video src="{{file.src | fileUrl}}" alt="" width="100"></video>
                    </div>
                    <div class="delete" (click)="removeFile(file.src, asset)">x</div>
                </div>
                <div class="star" (click)="makeMainAsset(asset.value.id)">*</div>
                <div class="delete" (click)="removeAsset(asset.value.id)">xxx</div>
                <input type="file" multiple name="Add asset" (change)="onFileChange($event, asset.value.id)" />
            </div>
        </div>
    </div>
    <div (click)="addAsset()">Add asset</div>
    <div>{{uploadProgress}}%</div>
</div>

